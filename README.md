Python function to programatically send an email, with optional attachments. Adapted from http://docs.python.org/2/library/email-examples.html

See test_send_mail.py for examples of use with GMail and Yahoo.